(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{466:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-准备工作"}},[s._v("#")]),s._v(" 1. 准备工作")]),s._v(" "),a("p",[s._v("1.下载安装 "),a("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node.js"),a("OutboundLink")],1),s._v(" 和 "),a("a",{attrs:{href:"https://yarnpkg.com/latest.msi",target:"_blank",rel:"noopener noreferrer"}},[s._v("Yarn"),a("OutboundLink")],1),s._v(" ，nodejs安装时会自动安装npm，yarn和nodejs如今都自动添加系统环境变量，只需要重新启动一下电脑就行，分别验证：")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"asset/image01.png"}}),s._v(" "),a("p",[s._v("2.安装VuePress")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Install vuepress.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" vuepress\n")])])]),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"asset\\image02.png",alt:"image02"}}),s._v(" "),a("h2",{attrs:{id:"_2-搭建blog平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-搭建blog平台"}},[s._v("#")]),s._v(" 2.搭建Blog平台")]),s._v(" "),a("p",[s._v("1.安装博客主题")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Install the theme.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @vuepress-reco/theme-cli\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Upgrade.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#yarn global upgrade @vuepress-reco/theme-cli")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化（需要回答一些问题，最后一个选择： blog）")]),s._v("\ntheme-cli init my-blog\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" my-blog\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"asset\\image03.png",alt:"image03"}}),s._v(" "),a("p",[s._v("这将生成一个博客网站模板“my-blog”，其中“docs”文件夹里面是主要的源文件，包括配置和博客文章的 Markdown 文件。")]),s._v(" "),a("p",[s._v("2.修改和定制")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开本地服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Or: vuepress dev docs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" dev\n")])])]),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"asset\\image04.png",alt:"image04"}}),s._v(" "),a("p",[s._v("打开本地服务后，VuePress 的开发环境可通过浏览器访问 http://localhost:8080/。在"),a("code",[s._v("docs\\.vuepress\\config.js")]),s._v("中设定。编译生成的静态网页将位于“public”文件夹中。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译生成静态网页")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" build\n")])])]),a("p",[s._v("! [image] (.\\asset\\image05.png)")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"asset\\image05.png",alt:"image05"}}),s._v(" "),a("p",[s._v("编译生成的静态网页将位于“public”文件夹中。在生成的模板上，随即更新 "),a("code",[s._v("package.json")]),s._v(" 中的依赖，使用最新的版本")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.5.0"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress-theme-reco"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.2.2"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("然后升级本地的依赖包：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" upgrade\n")])])]),a("p",[s._v("为了避免将目录链接里面的文件重复加入到 Git 的版本控制，我们需要在 "),a("code",[s._v(".gitignore")]),s._v(" 中，添加一条设置，忽略建立的目录链接。例如：")]),s._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# ignore directory junctions.\n/docs/views/other/guide/asset/\n")])])]),a("p",[s._v("3.图片引用")]),s._v(" "),a("p",[s._v("关于图片文件的引用，有一个小技巧:")]),s._v(" "),a("ol",[a("li",[s._v("在 "),a("code",[s._v("docs\\.vuepress\\public\\views\\")]),s._v(" 和 "),a("code",[s._v("docs\\views\\")]),s._v(" 中建立同样的目录结构。其中前者是 VuePress 要求存放图片文件的地方，后者是 Markdown 博客文章 Markdown 文件的存放地方。")]),s._v(" "),a("li",[s._v("为了让 Typora 编辑器打开 Markdown 文件时能够显示图片，同时又能让图片文件位于 VuePress 所要求的文件夹，我们需要在  Markdown 文件所在的文件夹中，建立一个目录连接（Directory Junction），让它指向 VuePress  要求的文件夹中（那里存放着图片文件）。")])]),s._v(" "),a("p",[s._v("举个例子， "),a("code",[s._v("docs\\.vuepress\\public\\views\\other\\guide\\asset\\")]),s._v(" 中，存放了几张图片文件。在 Markdown 文件"),a("code",[s._v("README.md")]),s._v(" 所处的文件夹 "),a("code",[s._v("docs\\views\\other\\guide\\")]),s._v("中，我们建立了一个 "),a("code",[s._v("asset")]),s._v(" 目录链接，它以相对路径的方式指向了"),a("code",[s._v("docs\\.vuepress\\public\\views\\other\\guide\\asset\\")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("REM We would like to create a directory junction "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asset"')]),s._v(" from:\nREM docs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("other"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("study"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nREM to: \nREM docs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(".vuepress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("other"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("study"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("asset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\nREM First, check "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" the relative path is correct:\nCD /D"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("my-blog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("docs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("other"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("study"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nDIR "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(".vuepress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("other"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("study"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("asset\n\nREM Then, run the "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" to create the directory junction:\nMKLINK /J asset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(".vuepress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("views"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("other"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("study"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("asset\n")])])]),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"asset\\image06.png",alt:"image06"}}),s._v(" "),a("p",[s._v("4.Git版本控制")]),s._v(" "),a("p",[s._v("另外，为了避免将目录链接里面的文件重复加入到 Git 的版本控制，我们需要在 "),a("code",[s._v(".gitignore")]),s._v(" 中，添加一条设置，忽略建立的目录链接。例如：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ignore directory junctions.")]),s._v("\n/docs/views/other/guide/asset/\n")])])]),a("p",[s._v("5.最后")]),s._v(" "),a("p",[s._v("打开本地服务，一边用 Typora 编辑 Markdown 文章，一边用浏览器（http://localhost:8080）看效果。每次保存 Markdown 文件，浏览器的结果会自动更新（不需要手动刷新），非常方便快捷。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开本地服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Or: vuepress dev docs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" dev\n")])])]),a("p",[s._v("本地开发满意后，在 GitHub （也可以是 GitLab等类似的版本控制托管服务）中建立一个代码库，将本地代码提交到代码库中。")]),s._v(" "),a("h2",{attrs:{id:"_3-发布到-netlify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-发布到-netlify"}},[s._v("#")]),s._v(" 3.发布到 Netlify")]),s._v(" "),a("p",[s._v("发布到 "),a("a",{attrs:{href:"https://www.netlify.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("Netlify.com"),a("OutboundLink")],1),s._v("，只需要简单几步：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("注册 Netlify 的账号并登录，需要提供一个电子邮件。")])]),s._v(" "),a("li",[a("p",[s._v("新建一个项目，在设置里面填入 GitHub 代码库的链接，填写构建的命令和输出文件夹。\n按“Deploy site”按钮，耐心等候5分钟左右时间，让构建流程正常结束。")])]),s._v(" "),a("li",[a("p",[s._v("构建成功后，设置定制的域名。\n例如这里，我设置了定制的域名“bobyuan”，于是可以这样访问此博客网站：\n"),a("a",{attrs:{href:"https://bobyuan.netlify.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://bobyuan.netlify.com/"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("【可选】每次提交到 GitHub，Netlify 将自动构建并发布网站。为了了解构建状态，在首页（README.md）中添加一个“status badge”。")])])]),s._v(" "),a("h2",{attrs:{id:"_4-小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-小结"}},[s._v("#")]),s._v(" 4.小结")]),s._v(" "),a("p",[s._v("本文简明扼要地给出了基于 VuePress 搭建个人博客网站的全过程，有些技术细节没有提及，读者应该也是技术人员，相信您有能力自行探索或调整。希望本文对您有所帮助。")])])}),[],!1,null,null,null);t.default=n.exports}}]);